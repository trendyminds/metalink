function n(s,t,e,a,u,m,p,h){var i=typeof s=="function"?s.options:s;return t&&(i.render=t,i.staticRenderFns=e,i._compiled=!0),{exports:s,options:i}}const l={mixins:[Fieldtype],mounted(){this.value||this.reset()},methods:{reset(){this.status="idle",this.url="",this.update({url:"",title:"",description:"",image:""})},async getMetadata(){this.status="loading";try{const{data:s}=await this.$axios({method:"POST",url:"/!/metalink/metadata",data:{url:this.url}});this.update({url:s.url,title:s.title,description:s.description,image:s.image}),this.status="loaded"}catch{this.status="error"}}},data(){var s,t;return{status:(s=this.value)!=null&&s.url?"loaded":"idle",url:((t=this.value)==null?void 0:t.url)||""}}};var r=function(){var t=this,e=t._self._c;return e("div",[e("form",{staticClass:"flex items-center gap-2",on:{submit:function(a){return a.preventDefault(),t.getMetadata.apply(null,arguments)}}},[e("text-input",{staticClass:"flex-1",attrs:{placeholder:"https://example.com"},model:{value:t.url,callback:function(a){t.url=a},expression:"url"}}),e("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("Fetch")])],1),t.status==="loading"?e("div",{staticClass:"card text-center py-4 mt-4"},[e("p",{staticClass:"text-gray"},[t._v("Loading...")])]):t._e(),t.status==="error"?e("div",{staticClass:"card text-center py-4 mt-4"},[e("p",[t._v("Could not fetch URL. Try again.")])]):t._e(),t.status==="loaded"?e("div",{staticClass:"card flex mt-4",staticStyle:{gap:"20px"}},[e("img",{staticClass:"object-cover rounded-lg",staticStyle:{height:"158px",width:"300px"},attrs:{src:t.value.image}}),e("div",[e("h2",{staticClass:"text-sm font-bold",domProps:{textContent:t._s(t.value.title)}}),e("p",{staticClass:"text-xs mt-2 text-gray",domProps:{textContent:t._s(t.value.description)}}),e("button",{staticClass:"flex btn btn-xs mt-2 gap-2",attrs:{type:"button"},on:{click:t.reset}},[e("svg-icon",{staticClass:"h-4",attrs:{name:"eraser"}}),e("span",[t._v("Remove")])],1)])]):t._e()])},o=[],c=n(l,r,o);const d=c.exports;Statamic.$components.register("metalink-fieldtype",d);
